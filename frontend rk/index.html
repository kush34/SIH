<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Traffic Congestion Map</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <header class="banner">
    <div>
      <h2>Live Traffic Congestion Map</h2>
      <p>Select location and watch the traffic heat map ‚Üí</p>
    </div>
    <div class="header-controls">
      <button id="darkModeToggle" class="dark-mode-toggle" title="Toggle Dark Mode">
        <span class="toggle-icon">üåô</span>
      </button>
      <img src="https://img.icons8.com/ios-filled/100/map.png" alt="map-icon">
    </div>
  </header>

  <main>
    <div class="search-box">
      <input type="text" id="destinationInput" placeholder="Where to?">
      <button class="now-btn" id="searchBtn">Search</button>
    </div>

    <div class="options">
      <p>üìä Predicted Congestion</p>
      <p>üìç Set destination on map</p>
    </div>

    <section class="map-section">
      <h3>Interactive Traffic Map</h3>
      <div class="traffic-legend">
        <div class="legend-item">
          <div class="legend-color low"></div>
          <span>Low Traffic</span>
        </div>
        <div class="legend-item">
          <div class="legend-color medium"></div>
          <span>Medium Traffic</span>
        </div>
        <div class="legend-item">
          <div class="legend-color high"></div>
          <span>High Traffic</span>
        </div>
      </div>
      <div id="map" class="map-container"></div>
    </section>

    <section class="trip-planning" id="tripPlanning" style="display: none;">
      <h3>Trip Planning</h3>
      <div class="selected-locations">
        <div class="location-item">
          <span class="location-label">From:</span>
          <span id="fromLocation">Click on map to select</span>
        </div>
        <div class="location-item">
          <span class="location-label">To:</span>
          <span id="toLocation">Click on map to select</span>
        </div>
      </div>
      
      <div class="route-options" id="routeOptions">
        <!-- Route options will be populated here -->
      </div>
    </section>

    <section class="camera-feed-section">
      <h3>Live Traffic Camera Feed</h3>
      <div class="camera-controls">
        <button class="camera-btn active" data-camera="mg-road">MG Road</button>
        <button class="camera-btn" data-camera="airport-road">Airport Road</button>
        <button class="camera-btn" data-camera="outer-ring">Outer Ring Road</button>
        <button class="camera-btn" data-camera="whitefield">Whitefield</button>
      </div>
      <div class="camera-container">
        <div class="camera-feed" id="cameraFeed">
          <div class="camera-placeholder">
            <div class="camera-icon"></div>
            <p>Live Camera Feed</p>
            <span class="camera-location">MG Road Junction</span>
          </div>
        </div>
        <div class="camera-info">
          <div class="info-item">
            <span class="info-label">Location:</span>
            <span class="info-value" id="cameraLocation">MG Road Junction</span>
          </div>
          <div class="info-item">
            <span class="info-label">Status:</span>
            <span class="info-value status-active" id="cameraStatus">Active</span>
          </div>
          <div class="info-item">
            <span class="info-label">Vehicle Count:</span>
            <span class="info-value" id="vehicleCount">24</span>
          </div>
        </div>
      </div>
    </section>

    <section class="emergency-section">
      <h3>Emergency Vehicle Detection</h3>
      <div class="emergency-controls">
        <button class="emergency-btn" onclick="openEmergencyPage()">Open Emergency Dashboard</button>
        <button class="emergency-btn secondary" onclick="simulateEmergency()">Simulate Emergency Vehicle</button>
      </div>
      <div class="emergency-status">
        <div class="status-card">
          <div class="status-icon emergency-icon"></div>
          <div class="status-info">
            <h4>Emergency Vehicles Active</h4>
            <p id="emergencyCount">0 vehicles in system</p>
          </div>
        </div>
        <div class="status-card">
          <div class="status-icon signal-icon"></div>
          <div class="status-info">
            <h4>Signals Modified</h4>
            <p id="signalCount">0 signals affected</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bottom-nav">
    <a href="index.html">
      <span class="nav-icon home-icon"></span>
      <span>Home</span>
    </a>
    <a href="signup.html">
      <span class="nav-icon account-icon"></span>
      <span>Account</span>
    </a>
    <a href="report.html">
      <span class="nav-icon report-icon"></span>
      <span>Report</span>
    </a>
  </footer>

  <script src="script.js"></script>
</body>
</html>
